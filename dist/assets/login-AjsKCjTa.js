import{r as y,e as F}from"./validators-DpYrMFzk.js";import{r as c,i as P,j,a as A,c as B,o as E,b as e,e as t,d as s,m as a,H as V,v,t as l,b1 as M,aX as N,aj as S,F as $,b7 as h,b0 as U}from"./index-oM6dt0nl.js";import{_ as z}from"./AppTextField-CAJer-Ob.js";import{_ as G}from"./AuthProvider-C3ADAsbV.js";import{u as x}from"./useGenerateImageVariant-CbCwLuVl.js";import{a as H,b as O,c as W,d as X}from"./auth-v2-login-illustration-light-8U3Ay0LB.js";import{a as J,b as K}from"./misc-mask-light-CdCn4Q-o.js";import{V as Q}from"./VNodeRenderer-8NQ5l5Du.js";import{u as Y}from"./useAbility-DuIB436c.js";import{$ as Z}from"./api-fK__bFIj.js";import{a as n,V as k}from"./VRow-DUBqKGkl.js";import{V as ee}from"./VImg-CbCuusDt.js";import{V as ae}from"./VCard-FM1MZCfp.js";import{V as g}from"./VCardText-ByzvGG12.js";import{V as te}from"./VAlert-DMF6eytD.js";import{V as se}from"./VForm-CrRy9CR9.js";import{V as oe}from"./VCheckbox-BjpyyITq.js";import{V as C}from"./VDivider-D7iOkos2.js";import"./helpers-DK5QwNv0.js";import"./form-Cd7ZM7vN.js";import"./VTextField-DgWiWPzB.js";/* empty css                   */import"./VCounter-CDVAsv0J.js";import"./VField-2OujSMcs.js";import"./easing-CjukEv2V.js";import"./VInput-Br_2EQnr.js";import"./forwardRefs-C-GTDzx5.js";import"./index-9rIf2CJL.js";/* empty css              */import"./VAvatar-B-sFcdAe.js";import"./VCheckboxBtn-_cW8_NgR.js";import"./VSelectionControl-CRT6_zMy.js";const re={class:"auth-logo d-flex align-center gap-x-3"},le={class:"auth-title"},ie={class:"position-relative bg-background w-100 me-0"},ne={class:"d-flex align-center justify-center w-100 h-100",style:{"padding-inline":"6.25rem"}},me=["src"],de={class:"text-h4 mb-1"},ue={class:"text-capitalize"},ce=s("p",{class:"mb-0"}," Please sign-in to your account and start the adventure ",-1),pe=s("p",{class:"text-sm mb-2"},[l(" Admin Email: "),s("strong",null,"admin@demo.com"),l(" / Pass: "),s("strong",null,"admin")],-1),fe=s("p",{class:"text-sm mb-0"},[l(" Client Email: "),s("strong",null,"client@demo.com"),l(" / Pass: "),s("strong",null,"client")],-1),_e={class:"d-flex align-center flex-wrap justify-space-between my-6"},Ve=s("span",null,"New on our platform?",-1),he=s("span",{class:"mx-4"},"or",-1),Qe={__name:"login",setup(ge){const R=x(X,W,O,H,!0),L=x(K,J),p=c(!1),b=P(),T=j(),I=Y(),f=c({email:void 0,password:void 0}),w=c(),m=c({email:"admin@demo.com",password:"admin"}),_=c(!1),q=async()=>{try{const o=await Z("/auth/login",{method:"POST",body:{email:m.value.email,password:m.value.password},onResponseError({response:i}){f.value=i._data.errors}}),{accessToken:r,userData:d,userAbilityRules:u}=o;h("userAbilityRules").value=u,I.update(u),h("userData").value=d,h("accessToken").value=r,await U(()=>{T.replace(b.query.to?String(b.query.to):"/")})}catch(o){console.error(o)}},D=()=>{var o;(o=w.value)==null||o.validate().then(({valid:r})=>{r&&q()})};return(o,r)=>{const d=A("RouterLink"),u=z;return E(),B($,null,[e(d,{to:"/"},{default:t(()=>[s("div",re,[e(a(Q),{nodes:a(V).app.logo},null,8,["nodes"]),s("h1",le,v(a(V).app.title),1)])]),_:1}),e(k,{"no-gutters":"",class:"auth-wrapper bg-surface"},{default:t(()=>[e(n,{md:"8",class:"d-none d-md-flex"},{default:t(()=>[s("div",ie,[s("div",ne,[e(ee,{"max-width":"613",src:a(R),class:"auth-illustration mt-16 mb-2"},null,8,["src"])]),s("img",{class:"auth-footer-mask",src:a(L),alt:"auth-footer-mask",height:"280",width:"100"},null,8,me)])]),_:1}),e(n,{cols:"12",md:"4",class:"auth-card-v2 d-flex align-center justify-center"},{default:t(()=>[e(ae,{flat:"","max-width":500,class:"mt-12 mt-sm-0 pa-4"},{default:t(()=>[e(g,null,{default:t(()=>[s("h4",de,[l(" Welcome to "),s("span",ue,v(a(V).app.title),1),l("! 👋🏻 ")]),ce]),_:1}),e(g,null,{default:t(()=>[e(te,{color:"primary",variant:"tonal"},{default:t(()=>[pe,fe]),_:1})]),_:1}),e(g,null,{default:t(()=>[e(a(se),{ref_key:"refVForm",ref:w,onSubmit:M(D,["prevent"])},{default:t(()=>[e(k,null,{default:t(()=>[e(n,{cols:"12"},{default:t(()=>[e(u,{modelValue:a(m).email,"onUpdate:modelValue":r[0]||(r[0]=i=>a(m).email=i),label:"Email",placeholder:"johndoe@email.com",type:"email",autofocus:"",rules:["requiredValidator"in o?o.requiredValidator:a(y),"emailValidator"in o?o.emailValidator:a(F)],"error-messages":a(f).email},null,8,["modelValue","rules","error-messages"])]),_:1}),e(n,{cols:"12"},{default:t(()=>[e(u,{modelValue:a(m).password,"onUpdate:modelValue":r[1]||(r[1]=i=>a(m).password=i),label:"Password",placeholder:"············",rules:["requiredValidator"in o?o.requiredValidator:a(y)],type:a(p)?"text":"password","error-messages":a(f).password,"append-inner-icon":a(p)?"tabler-eye-off":"tabler-eye","onClick:appendInner":r[2]||(r[2]=i=>p.value=!a(p))},null,8,["modelValue","rules","type","error-messages","append-inner-icon"]),s("div",_e,[e(oe,{modelValue:a(_),"onUpdate:modelValue":r[3]||(r[3]=i=>N(_)?_.value=i:null),label:"Remember me"},null,8,["modelValue"]),e(d,{class:"text-primary ms-2 mb-1",to:{name:"forgot-password"}},{default:t(()=>[l(" Forgot Password? ")]),_:1})]),e(S,{block:"",type:"submit"},{default:t(()=>[l(" Login ")]),_:1})]),_:1}),e(n,{cols:"12",class:"text-center"},{default:t(()=>[Ve,e(d,{class:"text-primary ms-1",to:{name:"register"}},{default:t(()=>[l(" Create an account ")]),_:1})]),_:1}),e(n,{cols:"12",class:"d-flex align-center"},{default:t(()=>[e(C),he,e(C)]),_:1}),e(n,{cols:"12",class:"text-center"},{default:t(()=>[e(G)]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1})]),_:1})],64)}}};export{Qe as default};
