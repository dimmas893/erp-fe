import{f as Me}from"./formatters-Cw2xOObF.js";import{r as k,a as ie,f as D,o as f,e as t,b as e,d as l,aX as O,m as a,b9 as pe,c as E,l as X,aj as Q,t as b,a1 as c,w as he,$ as q,F as T,h as N,q as fe,v as $,i as be,J,K,b1 as H,x as ee,ba as Le,I as Te}from"./index-oM6dt0nl.js";import{C as ce}from"./vue3-perfect-scrollbar-QmlUH9_e.js";import{_ as xe}from"./TiptapEditor-CQpDp5Rn.js";import{a as De,V as Y}from"./VCard-FM1MZCfp.js";import{V as W}from"./VSpacer-DCf_F4Gg.js";import{V as G}from"./VTextField-DgWiWPzB.js";import{V as F}from"./VDivider-D7iOkos2.js";import{V as ge}from"./VChip-FseWGz3T.js";import{$ as ve}from"./api-fK__bFIj.js";import{V as U}from"./VTooltip-ud8W1qWj.js";import{V as te}from"./VMenu-CMOaXPv7.js";import{V as ae,a as le,b as se}from"./VList-cYsfAEAC.js";import{V as ye}from"./VBadge-BUhkoIqq.js";import{V as $e}from"./VAvatar-B-sFcdAe.js";import{V as re}from"./VImg-CbCuusDt.js";import{V as Z}from"./VCardText-ByzvGG12.js";import{V as ke}from"./VNavigationDrawer-C7yjEzI4.js";import{u as Ae,V as Ie,a as Re}from"./VMain-BedpwgpS.js";import{u as Ue}from"./useApi-DXv71PQk.js";import{c as Be}from"./createUrl-wFcilmU1.js";import{V as _e}from"./VCheckbox-BjpyyITq.js";import"./helpers-DK5QwNv0.js";import"./index-CW3BbK-I.js";import"./index-BZk9Exf_.js";/* empty css              *//* empty css                   */import"./VCounter-CDVAsv0J.js";import"./VField-2OujSMcs.js";import"./form-Cd7ZM7vN.js";import"./easing-CjukEv2V.js";import"./VInput-Br_2EQnr.js";import"./forwardRefs-C-GTDzx5.js";import"./VSlideGroup-Bm28qC-v.js";import"./index-9rIf2CJL.js";import"./VOverlay-C8aSNeq7.js";import"./delay-b3pLEGXA.js";import"./lazy-S_p9USlT.js";import"./scopeId-CPb6oRpW.js";import"./dialog-transition-I-DGYdwc.js";import"./ssrBoot-BPLKHfuF.js";import"./VCheckboxBtn-_cW8_NgR.js";import"./VSelectionControl-CRT6_zMy.js";const Ne={class:"d-flex align-center"},Fe=l("h5",{class:"text-h5"}," Compose Mail ",-1),Pe={class:"d-flex align-center gap-x-2"},Oe={class:"px-1 pe-6 py-1"},je=l("div",{class:"text-base font-weight-medium text-disabled"}," To: ",-1),qe={class:"cursor-pointer"},He=l("span",null," | ",-1),Je={key:0},Ke={class:"px-1 pe-6 py-1"},We=l("div",{class:"text-disabled font-weight-medium"}," Cc: ",-1),Xe={key:0},Ge={class:"px-1 pe-6 py-1"},Qe=l("div",{class:"text-disabled font-weight-medium"}," Bcc: ",-1),Ye={class:"px-1 pe-6 py-1"},Ze=l("div",{class:"text-base font-weight-medium text-disabled"}," Subject: ",-1),et={class:"d-flex align-center px-6 py-4"},tt={__name:"ComposeDialog",emits:["close"],setup(z,{emit:A}){const r=k(""),C=k(""),x=k(""),M=k(""),V=k(""),B=k(""),u=k(!1),v=k(!1),g=()=>{C.value=x.value=M.value=""};return(I,o)=>{const S=ie("IconBtn"),h=xe;return f(),D(Y,{class:"email-compose-dialog",elevation:"10","max-width":"30vw"},{default:t(()=>[e(De,{class:"py-3 px-6"},{default:t(()=>[l("div",Ne,[Fe,e(W),l("div",Pe,[e(S,{size:"small",icon:"tabler-minus",onClick:o[0]||(o[0]=n=>I.$emit("close"))}),e(S,{size:"small",icon:"tabler-x",onClick:o[1]||(o[1]=n=>{I.$emit("close"),g(),u.value=!1,v.value=!1})})])])]),_:1}),l("div",Oe,[e(G,{modelValue:a(C),"onUpdate:modelValue":o[4]||(o[4]=n=>O(C)?C.value=n:null),density:"compact"},{"prepend-inner":t(()=>[je]),append:t(()=>[l("span",qe,[l("span",{onClick:o[2]||(o[2]=n=>u.value=!a(u))},"Cc"),He,l("span",{onClick:o[3]||(o[3]=n=>v.value=!a(v))},"Bcc")])]),_:1},8,["modelValue"])]),e(pe,null,{default:t(()=>[a(u)?(f(),E("div",Je,[e(F),l("div",Ke,[e(G,{modelValue:a(V),"onUpdate:modelValue":o[5]||(o[5]=n=>O(V)?V.value=n:null),density:"compact"},{"prepend-inner":t(()=>[We]),_:1},8,["modelValue"])])])):X("",!0)]),_:1}),e(pe,null,{default:t(()=>[a(v)?(f(),E("div",Xe,[e(F),l("div",Ge,[e(G,{modelValue:a(B),"onUpdate:modelValue":o[6]||(o[6]=n=>O(B)?B.value=n:null),density:"compact"},{"prepend-inner":t(()=>[Qe]),_:1},8,["modelValue"])])])):X("",!0)]),_:1}),e(F),l("div",Ye,[e(G,{modelValue:a(x),"onUpdate:modelValue":o[7]||(o[7]=n=>O(x)?x.value=n:null),density:"compact"},{"prepend-inner":t(()=>[Ze]),_:1},8,["modelValue"])]),e(F),e(h,{modelValue:a(r),"onUpdate:modelValue":o[8]||(o[8]=n=>O(r)?r.value=n:null),placeholder:"Message"},null,8,["modelValue"]),l("div",et,[e(Q,{color:"primary",class:"me-4","append-icon":"tabler-send",disabled:a(C)==="",onClick:o[9]||(o[9]=n=>{I.$emit("close"),r.value="",g(),u.value=!1,v.value=!1})},{default:t(()=>[b(" send ")]),_:1},8,["disabled"]),e(S,{size:"small"},{default:t(()=>[e(c,{icon:"tabler-paperclip"})]),_:1}),e(W),e(S,{size:"small",class:"me-2"},{default:t(()=>[e(c,{icon:"tabler-dots-vertical"})]),_:1}),e(S,{size:"small",onClick:o[10]||(o[10]=n=>{I.$emit("close"),g(),r.value="",u.value=!1,v.value=!1})},{default:t(()=>[e(c,{icon:"tabler-trash"})]),_:1})])]),_:1})}}},at={class:"d-flex flex-column h-100"},lt={class:"px-6 pb-5 pt-6"},st={class:"email-filters py-4"},it=["href","onClick"],ot={class:"text-base"},nt={class:"email-labels py-4"},rt=l("div",{class:"text-caption text-disabled mb-4 px-6"}," LABELS ",-1),dt=["href","onClick"],ct={class:"text-body-1 text-high-emphasis"},mt=Object.assign({inheritAttrs:!1},{__name:"EmailLeftSidebarContent",props:{emailsMeta:{type:Object,required:!0}},emits:["toggleComposeDialogVisibility"],setup(z,{emit:A}){const r=z,C=k(0),x=k(0),M=k(0),V=k(0);he(()=>r.emailsMeta,v=>{v&&(C.value=v.inbox,x.value=v.draft,M.value=v.spam,V.value=v.star)},{immediate:!0,deep:!0});const B=q(()=>[{title:"Inbox",prependIcon:"tabler-mail",to:{name:"apps-email"},badge:{content:C.value,color:"primary"}},{title:"Sent",prependIcon:"tabler-send",to:{name:"apps-email-filter",params:{filter:"sent"}}},{title:"Draft",prependIcon:"tabler-edit",to:{name:"apps-email-filter",params:{filter:"draft"}},badge:{content:x.value,color:"warning"}},{title:"Starred",prependIcon:"tabler-star",to:{name:"apps-email-filter",params:{filter:"starred"}},badge:{content:V.value,color:"success"}},{title:"Spam",prependIcon:"tabler-alert-circle",to:{name:"apps-email-filter",params:{filter:"spam"}},badge:{content:M.value,color:"error"}},{title:"Trash",prependIcon:"tabler-trash",to:{name:"apps-email-filter",params:{filter:"trashed"}}}]),u=[{title:"Personal",color:"success",to:{name:"apps-email-label",params:{label:"personal"}}},{title:"Company",color:"primary",to:{name:"apps-email-label",params:{label:"company"}}},{title:"Important",color:"warning",to:{name:"apps-email-label",params:{label:"important"}}},{title:"Private",color:"error",to:{name:"apps-email-label",params:{label:"private"}}}];return(v,g)=>{const I=ie("RouterLink");return f(),E("div",at,[l("div",lt,[e(Q,{block:"",onClick:g[0]||(g[0]=o=>v.$emit("toggleComposeDialogVisibility"))},{default:t(()=>[b(" Compose ")]),_:1})]),e(a(ce),{options:{wheelPropagation:!1},class:"h-100"},{default:t(()=>[l("ul",st,[(f(!0),E(T,null,N(a(B),o=>(f(),D(I,{key:o.title,class:"d-flex align-center cursor-pointer align-center",to:o.to,custom:""},{default:t(({isActive:S,href:h,navigate:n})=>{var _;return[l("li",fe({ref_for:!0},v.$attrs,{href:h,class:[S&&"email-filter-active text-primary","d-flex align-center cursor-pointer"],onClick:n}),[e(c,{icon:o.prependIcon,class:"me-2",size:"20"},null,8,["icon"]),l("div",ot,$(o.title),1),e(W),(_=o.badge)!=null&&_.content?(f(),D(ge,{key:0,color:o.badge.color,label:"",size:"small",class:"rounded-xl px-3"},{default:t(()=>{var p;return[b($((p=o.badge)==null?void 0:p.content),1)]}),_:2},1032,["color"])):X("",!0)],16,it)]}),_:2},1032,["to"]))),128))]),l("ul",nt,[rt,(f(),E(T,null,N(u,o=>e(I,{key:o.title,class:"d-flex align-center",to:o.to,custom:""},{default:t(({isActive:S,href:h,navigate:n})=>[l("li",fe({ref_for:!0},v.$attrs,{href:h,class:[S&&"email-label-active text-primary","cursor-pointer d-flex align-center"],onClick:n}),[e(c,{icon:"tabler-circle-filled",color:o.color,class:"me-2",size:"12"},null,8,["color"]),l("div",ct,$(o.title),1)],16,dt)]),_:2},1032,["to"])),64))])]),_:1})])}}}),de=()=>{const z=be(),A=async(u,v)=>{await ve("apps/email",{method:"POST",body:JSON.stringify({ids:u,data:v})})};return{labels:[{title:"personal",color:"success"},{title:"company",color:"primary"},{title:"important",color:"warning"},{title:"private",color:"error"}],resolveLabelColor:u=>u==="personal"?"success":u==="company"?"primary":u==="important"?"warning":u==="private"?"error":"secondary",shallShowMoveToActionFor:u=>u==="trash"?z.params.filter!=="trashed":u==="inbox"?!(z.params.filter===void 0||z.params.filter==="sent"||z.params.filter==="draft"):u==="spam"?!(z.params.filter==="spam"||z.params.filter==="sent"||z.params.filter==="draft"):!1,emailMoveToFolderActions:[{action:"inbox",icon:"tabler-mail"},{action:"spam",icon:"tabler-alert-octagon"},{action:"trash",icon:"tabler-trash"}],moveSelectedEmailTo:async(u,v)=>{const g={};u==="inbox"?(z.params.filter==="trashed"&&(g.isDeleted=!1),g.folder="inbox"):u==="spam"?(z.params.filter==="trashed"&&(g.isDeleted=!1),g.folder="spam"):u==="trash"&&(g.isDeleted=!0),await A(v,g)},updateEmails:A,updateEmailLabels:async(u,v)=>{await ve("/apps/email",{method:"POST",body:{ids:u,label:v}})}}},ut={class:"email-view-header d-flex align-center px-5 py-3"},pt={class:"d-flex align-center flex-wrap flex-grow-1 overflow-hidden gap-2"},ft={class:"text-body-1 text-high-emphasis text-truncate"},vt={class:"d-flex flex-wrap gap-2"},_t={class:"d-flex align-center"},ht={class:"email-view-action-bar d-flex align-center text-medium-emphasis px-6 gap-x-1"},bt={class:"d-flex align-center gap-x-1"},xt={class:"d-flex align-start align-sm-center pa-6 gap-x-4"},gt={class:"d-flex flex-wrap flex-grow-1 overflow-hidden"},yt={class:"text-truncate"},$t={class:"text-body-1 text-high-emphasis text-truncate"},kt={class:"text-sm"},Ct={class:"d-flex align-center gap-x-4"},Vt={class:"text-disabled text-base"},wt={class:"text-body-1 font-weight-medium text-truncate mb-4"},Et=["innerHTML"],zt=l("span",null,"2 Attachments",-1),St={class:"text-base"},Mt=l("span",{class:"text-primary cursor-pointer"}," Forward ",-1),Lt={class:"text-h6 mb-6"},Tt={class:"d-flex justify-end gap-4 pt-2 flex-wrap"},Dt={__name:"EmailView",props:{email:{type:null,required:!0},emailMeta:{type:Object,required:!0}},emits:["refresh","navigated","close","trash","unread","read","star","unstar"],setup(z,{emit:A}){const r=z,C=A,x=k(""),M=k(!1),V=k(!0),{updateEmailLabels:B}=de(),{labels:u,resolveLabelColor:v,emailMoveToFolderActions:g,shallShowMoveToActionFor:I,moveSelectedEmailTo:o}=de(),S=async n=>{await o(n,[r.email.id]),C("refresh"),C("close")},h=async n=>{await B([r.email.id],n),C("refresh")};return(n,_)=>{const p=ie("IconBtn"),oe=xe;return f(),D(ke,{temporary:"","model-value":!!r.email,location:"right",scrim:!1,floating:"",class:"email-view"},{default:t(()=>[r.email?(f(),E(T,{key:0},[l("div",ut,[e(p,{class:"me-2",onClick:_[0]||(_[0]=m=>{n.$emit("close"),M.value=!1,V.value=!0,x.value=""})},{default:t(()=>[e(c,{size:"22",icon:"tabler-chevron-left",class:"flip-in-rtl"})]),_:1}),l("div",pt,[l("div",ft,$(r.email.subject),1),l("div",vt,[(f(!0),E(T,null,N(r.email.labels,m=>(f(),D(ge,{key:m,color:a(v)(m),class:"text-capitalize flex-shrink-0",size:"small",label:!1},{default:t(()=>[b($(m),1)]),_:2},1032,["color"]))),128))])]),l("div",null,[l("div",_t,[e(p,{disabled:!r.emailMeta.hasPreviousEmail,onClick:_[1]||(_[1]=m=>n.$emit("navigated","previous"))},{default:t(()=>[e(c,{icon:"tabler-chevron-left",class:"flip-in-rtl"})]),_:1},8,["disabled"]),e(p,{disabled:!r.emailMeta.hasNextEmail,onClick:_[2]||(_[2]=m=>n.$emit("navigated","next"))},{default:t(()=>[e(c,{icon:"tabler-chevron-right",class:"flip-in-rtl"})]),_:1},8,["disabled"])])])]),e(F),l("div",ht,[J(e(p,{onClick:_[3]||(_[3]=m=>{n.$emit("trash"),n.$emit("close")})},{default:t(()=>[e(c,{icon:"tabler-trash",size:"22"}),e(U,{activator:"parent",location:"top"},{default:t(()=>[b(" Delete Mail ")]),_:1})]),_:1},512),[[K,!r.email.isDeleted]]),e(p,{onClick:_[4]||(_[4]=H(m=>{n.$emit("unread"),n.$emit("close")},["stop"]))},{default:t(()=>[e(c,{icon:"tabler-mail",size:"22"}),e(U,{activator:"parent",location:"top"},{default:t(()=>[b(" Mark as Unread ")]),_:1})]),_:1}),e(p,null,{default:t(()=>[e(c,{icon:"tabler-folder",size:"22"}),e(U,{activator:"parent",location:"top"},{default:t(()=>[b(" Move to ")]),_:1}),e(te,{activator:"parent"},{default:t(()=>[e(ae,{density:"compact"},{default:t(()=>[(f(!0),E(T,null,N(a(g),m=>(f(),D(le,{key:m.title,class:ee([a(I)(m.action)?"d-flex":"d-none","align-center"]),href:"#",onClick:R=>S(m.action)},{prepend:t(()=>[e(c,{icon:m.icon,class:"me-2",size:"20"},null,8,["icon"])]),default:t(()=>[e(se,{class:"text-capitalize"},{default:t(()=>[b($(m.action),1)]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))]),_:1})]),_:1})]),_:1}),e(p,null,{default:t(()=>[e(c,{icon:"tabler-tag",size:"22"}),e(U,{activator:"parent",location:"top"},{default:t(()=>[b(" Label ")]),_:1}),e(te,{activator:"parent"},{default:t(()=>[e(ae,{density:"compact"},{default:t(()=>[(f(!0),E(T,null,N(a(u),m=>(f(),D(le,{key:m.title,href:"#",onClick:H(R=>h(m.title),["stop"])},{prepend:t(()=>[e(ye,{inline:"",color:a(v)(m.title),dot:""},null,8,["color"])]),default:t(()=>[e(se,{class:"ms-2 text-capitalize"},{default:t(()=>[b($(m.title),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1}),e(W),l("div",bt,[e(p,{color:r.email.isStarred?"warning":"default",onClick:_[5]||(_[5]=m=>{var R;(R=r.email)!=null&&R.isStarred?n.$emit("unstar"):n.$emit("star"),n.$emit("refresh")})},{default:t(()=>[e(c,{icon:"tabler-star"})]),_:1},8,["color"]),e(p,null,{default:t(()=>[e(c,{icon:"tabler-dots-vertical"})]),_:1})])]),e(F),e(a(ce),{tag:"div",class:"mail-content-container flex-grow-1 pa-sm-12 pa-6",options:{wheelPropagation:!1}},{default:t(()=>[e(Y,{class:"mb-4"},{default:t(()=>[l("div",xt,[e($e,{size:"38"},{default:t(()=>[e(re,{src:r.email.from.avatar,alt:r.email.from.name},null,8,["src","alt"])]),_:1}),l("div",gt,[l("div",yt,[l("div",$t,$(r.email.from.name),1),l("div",kt,$(r.email.from.email),1)]),e(W),l("div",Ct,[l("div",Vt,$(new Date(r.email.time).toDateString()),1),l("div",null,[J(e(p,null,{default:t(()=>[e(c,{icon:"tabler-paperclip",size:"22"})]),_:1},512),[[K,r.email.attachments.length]]),e(p,null,{default:t(()=>[e(c,{icon:"tabler-dots-vertical",size:"22"})]),_:1})])])])]),e(F),e(Z,null,{default:t(()=>[l("div",wt,$(r.email.from.name)+", ",1),l("div",{class:"text-base",innerHTML:r.email.message},null,8,Et)]),_:1}),r.email.attachments.length?(f(),E(T,{key:0},[e(F),e(Z,{class:"d-flex flex-column gap-y-4 pt-4"},{default:t(()=>[zt,(f(!0),E(T,null,N(r.email.attachments,m=>(f(),E("div",{key:m.fileName,class:"d-flex align-center"},[e(re,{src:m.thumbnail,alt:m.fileName,"aspect-ratio":"1","max-height":"24","max-width":"24",class:"me-2"},null,8,["src","alt"]),l("span",null,$(m.fileName),1)]))),128))]),_:1})],64)):X("",!0)]),_:1}),J(e(Y,null,{default:t(()=>[e(Z,{class:"font-weight-medium text-high-emphasis"},{default:t(()=>[l("div",St,[b(" Click here to "),l("span",{class:"text-primary cursor-pointer",onClick:_[6]||(_[6]=m=>{M.value=!a(M),V.value=!a(V)})}," Reply "),b(" or "),Mt])]),_:1})]),_:1},512),[[K,a(V)]]),a(M)?(f(),D(Y,{key:0},{default:t(()=>[e(Z,null,{default:t(()=>{var m;return[l("h6",Lt," Reply to "+$((m=z.email)==null?void 0:m.from.name),1),e(oe,{modelValue:a(x),"onUpdate:modelValue":_[7]||(_[7]=R=>O(x)?x.value=R:null),placeholder:"Write your message..."},null,8,["modelValue"]),l("div",Tt,[e(Q,{icon:"",variant:"text",color:"secondary",onClick:_[8]||(_[8]=R=>{M.value=!a(M),V.value=!a(V),x.value=""})},{default:t(()=>[e(c,{icon:"tabler-trash"})]),_:1}),e(Q,{variant:"text",color:"secondary"},{prepend:t(()=>[e(c,{icon:"tabler-paperclip",class:"text-high-emphasis",size:"16"})]),default:t(()=>[b(" Attachments ")]),_:1}),e(Q,{"append-icon":"tabler-send"},{default:t(()=>[b(" Send ")]),_:1})])]}),_:1})]),_:1})):X("",!0)]),_:1})],64)):X("",!0)]),_:1},8,["model-value"])}}},At={class:"d-flex align-center"},It={class:"py-2 px-4 d-flex align-center d-flex gap-x-1"},Rt=["onClick"],Ut={class:"text-h6"},Bt={class:"text-body-2 truncate"},Nt={class:"text-sm text-disabled"},Ft={class:"email-actions d-none"},Pt={class:"py-4 px-5 text-center"},Ot=l("span",{class:"text-high-emphasis"},"No items found.",-1),jt=[Ot],Da={__name:"index",async setup(z){let A,r;const{isLeftSidebarOpen:C}=Ae(),x=be(),{labels:M,resolveLabelColor:V,emailMoveToFolderActions:B,shallShowMoveToActionFor:u,moveSelectedEmailTo:v,updateEmails:g,updateEmailLabels:I}=de(),o=k(!1),S=k(""),h=k([]),{data:n,execute:_}=([A,r]=Le(()=>Ue(Be("/apps/email",{query:{q:S,filter:()=>"filter"in x.params?x.params.filter:void 0,label:()=>"label"in x.params?x.params.label:void 0}}))),A=await A,r(),A),p=q(()=>n.value.emails),oe=q(()=>n.value.emailsMeta),m=d=>{const i=h.value.indexOf(d);i===-1?h.value.push(d):h.value.splice(i,1)},R=q(()=>p.value.length&&p.value.length===h.value.length),me=q(()=>!!h.value.length&&p.value.length!==h.value.length),ne=q(()=>h.value.every(d=>{var i;return(i=p.value.find(w=>w.id===d))==null?void 0:i.isRead})),Ce=()=>{h.value=R.value?[]:p.value.map(d=>d.id)},y=k(null),Ve=q(()=>{const d={hasNextEmail:!1,hasPreviousEmail:!1};if(y.value){const i=p.value.findIndex(w=>{var s;return w.id===((s=y.value)==null?void 0:s.id)});d.hasNextEmail=!!p.value[i+1],d.hasPreviousEmail=!!p.value[i-1]}return d}),ue=async()=>{await _(),y.value&&(y.value=p.value.find(d=>{var i;return d.id===((i=y.value)==null?void 0:i.id)}))},L=async(d,i=h.value)=>{h.value=[],h.value=[],i.length&&(d==="trash"?await g(i,{isDeleted:!0}):d==="spam"?await g(i,{folder:"spam"}):d==="unread"?await g(i,{isRead:!1}):d==="read"?await g(i,{isRead:!0}):d==="star"?await g(i,{isStarred:!0}):d==="unstar"&&await g(i,{isStarred:!1}),y.value?ue():await _())},we=async d=>{await v(d,h.value),await _()},Ee=async d=>{await I(h.value,d),await _()},ze=d=>{if(!y.value)return;const i=p.value.findIndex(s=>{var j;return s.id===((j=y.value)==null?void 0:j.id)}),w=d==="previous"?i-1:i+1;y.value=p.value[w]},Se=async d=>{y.value=d,await L("read",[d.id])};return he(()=>x.params,()=>{h.value=[]},{deep:!0}),(d,i)=>{const w=ie("IconBtn");return f(),D(Ie,{style:{"z-index":"0","min-block-size":"100%"},class:"email-app-layout"},{default:t(()=>[e(ke,{modelValue:a(C),"onUpdate:modelValue":i[1]||(i[1]=s=>O(C)?C.value=s:null),absolute:"",touchless:"",location:"start",temporary:d.$vuetify.display.mdAndDown},{default:t(()=>[e(mt,{"emails-meta":a(oe),onToggleComposeDialogVisibility:i[0]||(i[0]=s=>o.value=!a(o))},null,8,["emails-meta"])]),_:1},8,["modelValue","temporary"]),e(Dt,{email:a(y),"email-meta":a(Ve),onRefresh:ue,onNavigated:ze,onClose:i[2]||(i[2]=s=>y.value=null),onTrash:i[3]||(i[3]=s=>L("trash",a(y)?[a(y).id]:[])),onUnread:i[4]||(i[4]=s=>L("unread",a(y)?[a(y).id]:[])),onStar:i[5]||(i[5]=s=>L("star",a(y)?[a(y).id]:[])),onUnstar:i[6]||(i[6]=s=>L("unstar",a(y)?[a(y).id]:[]))},null,8,["email","email-meta"]),e(Re,null,{default:t(()=>[e(Y,{flat:"",class:"email-content-list h-100 d-flex flex-column"},{default:t(()=>[l("div",At,[e(w,{class:"d-lg-none ms-3",onClick:i[7]||(i[7]=s=>C.value=!0)},{default:t(()=>[e(c,{icon:"tabler-menu-2"})]),_:1}),e(G,{modelValue:a(S),"onUpdate:modelValue":i[8]||(i[8]=s=>O(S)?S.value=s:null),density:"default",class:"email-search px-sm-2 flex-grow-1 py-1",placeholder:"Search mail"},{"prepend-inner":t(()=>[e(c,{icon:"tabler-search",size:"24",class:"me-1 text-medium-emphasis"})]),_:1},8,["modelValue"])]),e(F),l("div",It,[e(_e,{"model-value":a(R),indeterminate:a(me),class:"d-flex","onUpdate:modelValue":Ce},null,8,["model-value","indeterminate"]),l("div",{class:"w-100 d-flex align-center action-bar-actions gap-x-1",style:Te({visibility:a(me)||a(R)?void 0:"hidden"})},[J(e(w,{onClick:i[9]||(i[9]=s=>L("trash"))},{default:t(()=>[e(c,{icon:"tabler-trash",size:"22"}),e(U,{activator:"parent",location:"top"},{default:t(()=>[b(" Delete Mail ")]),_:1})]),_:1},512),[[K,"filter"in a(x).params?a(x).params.filter!=="trashed":!0]]),e(w,{onClick:i[10]||(i[10]=s=>a(ne)?L("unread"):L("read"))},{default:t(()=>[e(c,{icon:a(ne)?"tabler-mail":"tabler-mail-opened",size:"22"},null,8,["icon"]),e(U,{activator:"parent",location:"top"},{default:t(()=>[b($(a(ne)?"Mark as Unread":"Mark as Read"),1)]),_:1})]),_:1}),e(w,null,{default:t(()=>[e(c,{icon:"tabler-folder",size:"22"}),e(U,{activator:"parent",location:"top"},{default:t(()=>[b(" Folder ")]),_:1}),e(te,{activator:"parent"},{default:t(()=>[e(ae,{density:"compact"},{default:t(()=>[(f(!0),E(T,null,N(a(B),s=>(f(),D(le,{key:s.title,class:ee([a(u)(s.action)?"d-flex":"d-none","items-center"]),href:"#",onClick:j=>we(s.action)},{prepend:t(()=>[e(c,{icon:s.icon,class:"me-2",size:"20"},null,8,["icon"])]),default:t(()=>[e(se,{class:"text-capitalize"},{default:t(()=>[b($(s.action),1)]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))]),_:1})]),_:1})]),_:1}),e(w,null,{default:t(()=>[e(c,{icon:"tabler-tag",size:"22"}),e(U,{activator:"parent",location:"top"},{default:t(()=>[b(" Label ")]),_:1}),e(te,{activator:"parent"},{default:t(()=>[e(ae,{density:"compact"},{default:t(()=>[(f(!0),E(T,null,N(a(M),s=>(f(),D(le,{key:s.title,href:"#",onClick:j=>Ee(s.title)},{prepend:t(()=>[e(ye,{inline:"",color:a(V)(s.title),dot:""},null,8,["color"])]),default:t(()=>[e(se,{class:"ms-2 text-capitalize"},{default:t(()=>[b($(s.title),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1})],4),e(W),e(w,{onClick:a(_)},{default:t(()=>[e(c,{icon:"tabler-refresh",size:"22"})]),_:1},8,["onClick"]),e(w,null,{default:t(()=>[e(c,{icon:"tabler-dots-vertical",size:"22"})]),_:1})]),e(F),e(a(ce),{tag:"ul",options:{wheelPropagation:!1},class:"email-list"},{default:t(()=>[(f(!0),E(T,null,N(a(p),s=>{var j;return J((f(),E("li",{key:s.id,class:ee(["email-item d-flex align-center pa-4 gap-2 cursor-pointer",[{"email-read":s.isRead}]]),onClick:P=>Se(s)},[e(_e,{"model-value":a(h).includes(s.id),class:"flex-shrink-0","onUpdate:modelValue":P=>m(s.id),onClick:i[11]||(i[11]=H(()=>{},["stop"]))},null,8,["model-value","onUpdate:modelValue"]),e(w,{color:s.isStarred?"warning":"default",onClick:H(P=>L(s.isStarred?"unstar":"star",[s.id]),["stop"])},{default:t(()=>[e(c,{icon:"tabler-star",size:"22"})]),_:2},1032,["color","onClick"]),e($e,{size:"32"},{default:t(()=>[e(re,{src:s.from.avatar,alt:s.from.name},null,8,["src","alt"])]),_:2},1024),l("h6",Ut,$(s.from.name),1),l("span",Bt,$(s.subject),1),e(W),l("div",{class:ee(["email-meta align-center gap-2",d.$vuetify.display.xs?"d-none":""])},[(f(!0),E(T,null,N(s.labels,P=>(f(),D(c,{key:P,icon:"tabler-circle-filled",size:"10",color:a(V)(P)},null,8,["color"]))),128)),l("span",Nt,$(("formatDateToMonthShort"in d?d.formatDateToMonthShort:a(Me))(s.time)),1)],2),l("div",Ft,[e(w,{onClick:H(P=>L("trash",[s.id]),["stop"])},{default:t(()=>[e(c,{icon:"tabler-trash",size:"22"}),e(U,{activator:"parent",location:"top"},{default:t(()=>[b(" Delete Mail ")]),_:1})]),_:2},1032,["onClick"]),e(w,{class:"mx-2",onClick:H(P=>L(s.isRead?"unread":"read",[s.id]),["stop"])},{default:t(()=>[e(c,{icon:s.isRead?"tabler-mail":"tabler-mail-opened",size:"22"},null,8,["icon"]),e(U,{activator:"parent",location:"top"},{default:t(()=>[b($(s.isRead?"Mark as Unread":"Mark as Read"),1)]),_:2},1024)]),_:2},1032,["onClick"]),e(w,{onClick:H(P=>L("spam",[s.id]),["stop"])},{default:t(()=>[e(c,{icon:"tabler-info-circle",size:"22"}),e(U,{activator:"parent",location:"top"},{default:t(()=>[b(" Move to Spam ")]),_:1})]),_:2},1032,["onClick"])])],10,Rt)),[[K,(j=a(p))==null?void 0:j.length]])}),128)),J(l("li",Pt,jt,512),[[K,!a(p).length]])]),_:1})]),_:1}),J(e(tt,{onClose:i[12]||(i[12]=s=>o.value=!1)},null,512),[[K,a(o)]])]),_:1})]),_:1})}}};export{Da as default};
